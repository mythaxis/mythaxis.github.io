{{/*
  nebula2026/issue-landing.html

  Issue landing page for Nebula 2026 design.
  Shows issue cover art + table of contents.
*/}}
{{ define "nebula-content" }}
  {{/* Get all stories for this issue */}}
  {{ $stories := where .Site.Pages "Section" .Section }}
  {{ $stories := where $stories ".Type" "stock" }}

  <div class="nebula-main">
    {{/* Hero section with cover art */}}
    <section class="issue-hero">
      {{ if .Params.coverArt }}
        <img src="{{ .Params.coverArt | relURL }}"
             alt="{{ .Title }} Cover Art"
             class="cover-art">
      {{ end }}

      {{/* Issue branding */}}
      <div class="issue-branding">
        <h1 class="issue-title">{{ .Title }}</h1>
        {{ with .Params.season }}
          <p class="issue-season">{{ . }} {{ $.Params.year }}</p>
        {{ end }}
      </div>

      {{/* Roundel separator */}}
      <div class="roundel-separator">
        <span class="roundel-icon">⊗</span>
      </div>
    </section>

    {{/* Table of Contents */}}
    <section class="issue-toc">
      <h2 class="toc-heading">Contents</h2>

      <nav class="toc-list" aria-label="Table of Contents">
        <ul>
          {{ range $stories }}
            <li class="toc-item" data-story-id="{{ .File.UniqueID }}">
              <a href="{{ .RelPermalink }}" class="story-link">
                <span class="story-title">{{ .Title }}</span>
                <span class="story-author">by {{ delimit .Params.authors ", " }}</span>
              </a>
            </li>
          {{ end }}
        </ul>
      </nav>
    </section>

    {{/* Navigation back to home */}}
    <nav class="issue-nav">
      <a href="/" class="back-home">← Back to Home</a>
    </nav>

    {{/* Footer */}}
    <footer class="issue-footer">
      {{ partial "copyright" . }}
    </footer>
  </div>
{{ end }}

{{/* Render using base template */}}
{{ partial "nebula2026/base.html" . }}
